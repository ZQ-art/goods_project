{"remainingRequest":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\views\\Mine.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\views\\Mine.vue","mtime":1602251932340},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1597490029689},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\vue-loader\\lib\\index.js","mtime":1597490040244}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from \"@/api/mine.js\";\nexport default {\n  data: function data() {\n    return {\n      DataChange: true,\n      test: \"123\",\n      icon: \"\",\n      personalData: {},\n      myFile: [],\n      userId: sessionStorage.getItem('userId')\n    };\n  },\n  name: \"home\",\n  methods: {\n    onClickLeft: function onClickLeft() {\n      this.$router.push({\n        name: \"home\"\n      });\n    },\n    onClickRight: function onClickRight() {\n      Toast(\"按钮\");\n    },\n    changeDataHandler: function changeDataHandler() {\n      this.DataChange = !this.DataChange;\n      this.icon = this.icon === \"edit\" ? \"\" : \"edit\";\n    },\n    //传送文件到服务器\n    sendFile: function sendFile(_ref) {\n      var file = _ref.file;\n      var data = new FormData();\n      data.append('file', file);\n      data.append('userId', this.userId);\n      api.fileUpload(data, this);\n    },\n    //发送个人信息修改\n    changeDataSend: function changeDataSend() {\n      var data = {\n        name: this.personalData.name,\n        sex: this.personalData.sex,\n        phone: this.personalData.phone,\n        school: this.personalData.school,\n        xueYuan: this.personalData.xueYuan,\n        zhuanYe: this.personalData.zhuanYe,\n        qq: this.personalData.qq,\n        studentId: this.personalData.studentId,\n        zan: parseInt(this.personalData.greatTimes, 10),\n        trade: parseInt(this.personalData.tradeRecord),\n        userId: this.userId\n      };\n      api.send(data, this);\n      this.DataChange = !this.DataChange;\n      this.icon = this.icon === \"edit\" ? \"\" : \"edit\";\n    }\n  },\n  mounted: function mounted() {\n    var data = {\n      userName: this.userId\n    };\n    api.getInfo(data, this);\n  }\n};",{"version":3,"sources":["Mine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA,OAAA,GAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAMA,MAAA,MAAA,EAAA,EANA;AAOA,MAAA,MAAA,EAAA,cAAA,CAAA,OAAA,CAAA,QAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,IAAA,EAAA,MAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA;AACA,KANA;AAOA,IAAA,iBAPA,+BAOA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,MAAA,GAAA,EAAA,GAAA,MAAA;AACA,KAVA;AAWA;AACA,IAAA,QAZA,0BAYA;AAAA,UAAA,IAAA,QAAA,IAAA;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA,KAAA,MAAA;AACA,MAAA,GAAA,CAAA,UAAA,CAAA,IAAA,EAAA,IAAA;AACA,KAjBA;AAkBA;AACA,IAAA,cAnBA,4BAmBA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,YAAA,CAAA,IADA;AAEA,QAAA,GAAA,EAAA,KAAA,YAAA,CAAA,GAFA;AAGA,QAAA,KAAA,EAAA,KAAA,YAAA,CAAA,KAHA;AAIA,QAAA,MAAA,EAAA,KAAA,YAAA,CAAA,MAJA;AAKA,QAAA,OAAA,EAAA,KAAA,YAAA,CAAA,OALA;AAMA,QAAA,OAAA,EAAA,KAAA,YAAA,CAAA,OANA;AAOA,QAAA,EAAA,EAAA,KAAA,YAAA,CAAA,EAPA;AAQA,QAAA,SAAA,EAAA,KAAA,YAAA,CAAA,SARA;AASA,QAAA,GAAA,EAAA,QAAA,CAAA,KAAA,YAAA,CAAA,UAAA,EAAA,EAAA,CATA;AAUA,QAAA,KAAA,EAAA,QAAA,CAAA,KAAA,YAAA,CAAA,WAAA,CAVA;AAWA,QAAA,MAAA,EAAA,KAAA;AAXA,OAAA;AAaA,MAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,MAAA,GAAA,EAAA,GAAA,MAAA;AACA;AApCA,GAbA;AAmDA,EAAA,OAnDA,qBAmDA;AACA,QAAA,IAAA,GAAA;AACA,MAAA,QAAA,EAAA,KAAA;AADA,KAAA;AAGA,IAAA,GAAA,CAAA,OAAA,CAAA,IAAA,EAAA,IAAA;AACA;AAxDA,CAAA","sourcesContent":["<template>\r\n  <div id=\"mine\">\r\n    <van-nav-bar\r\n      title=\"我的\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    >\r\n      <template #right>\r\n        <van-icon name=\"qr\" size=\"23\" />\r\n      </template>\r\n    </van-nav-bar>\r\n\r\n    <div class=\"ava-box\">\r\n      <div class=\"avatar\">\r\n        <!-- <img src=\"../static/img/u=5.jpg\" alt />\r\n        <span class=\"iconfont icon-xiangji\"></span>-->\r\n        <van-uploader\r\n          :after-read=\"sendFile\"\r\n          :max-count=\"1\"\r\n          v-model=\"myFile\"\r\n        ></van-uploader>\r\n      </div>\r\n      <p>点击更换头像</p>\r\n    </div>\r\n\r\n    <van-divider\r\n      :style=\"{ color: '#709fb0', borderColor: '#709fb0', padding: '0 16px' }\"\r\n      >个人资料</van-divider\r\n    >\r\n\r\n    <van-cell-group class=\"fieldWarp\">\r\n      <van-field\r\n        label=\"学号\"\r\n        v-model=\"personalData.studentId\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"姓名\"\r\n        v-model=\"personalData.name\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"性别\"\r\n        v-model=\"personalData.sex\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"学校\"\r\n        v-model=\"personalData.school\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"学院\"\r\n        v-model=\"personalData.xueYuan\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"专业\"\r\n        v-model=\"personalData.zhuanYe\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"QQ\"\r\n        v-model=\"personalData.qq\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"手机号码\"\r\n        v-model=\"personalData.phone\"\r\n        :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"累计获赞量\"\r\n        v-model=\"personalData.greatTimes\"\r\n                :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n      <van-field\r\n        label=\"交易记录\"\r\n        v-model=\"personalData.tradeRecord\"\r\n                :readonly=\"DataChange\"\r\n        :class=\"{ changable: !DataChange }\"\r\n        :right-icon=\"icon\"\r\n      />\r\n    </van-cell-group>\r\n    <van-button\r\n      class=\"change\"\r\n      plain\r\n      type=\"primary\"\r\n      @click=\"changeDataHandler\"\r\n      v-if=\"DataChange\"\r\n      >修改个人资料</van-button\r\n    >\r\n    <van-button class=\"change\" type=\"primary\" @click=\"changeDataSend\" v-else\r\n      >完成</van-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api/mine.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      DataChange: true,\r\n      test: \"123\",\r\n      icon: \"\",\r\n      personalData: {\r\n      },\r\n      myFile: [],\r\n      userId:sessionStorage.getItem('userId')\r\n    };\r\n  },\r\n  name: \"home\",\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.push({ name: \"home\" });\r\n    },\r\n    onClickRight() {\r\n      Toast(\"按钮\");\r\n    },\r\n    changeDataHandler() {\r\n      this.DataChange = !this.DataChange;\r\n      this.icon = this.icon === \"edit\" ? \"\" : \"edit\";\r\n    },\r\n    //传送文件到服务器\r\n    sendFile({file}) {\r\n      let data=new FormData()\r\n      data.append('file',file)\r\n      data.append('userId',this.userId)\r\n      api.fileUpload(data,this)\r\n    },\r\n    //发送个人信息修改\r\n    changeDataSend() {\r\n      let data = {\r\n        name: this.personalData.name,\r\n        sex: this.personalData.sex,\r\n        phone: this.personalData.phone,\r\n        school: this.personalData.school,\r\n        xueYuan: this.personalData.xueYuan,\r\n        zhuanYe: this.personalData.zhuanYe,\r\n        qq: this.personalData.qq,\r\n        studentId: this.personalData.studentId,\r\n        zan: parseInt(this.personalData.greatTimes, 10),\r\n        trade: parseInt(this.personalData.tradeRecord),\r\n        userId:this.userId\r\n      };\r\n      api.send(data, this);\r\n      this.DataChange = !this.DataChange;\r\n      this.icon = this.icon === \"edit\" ? \"\" : \"edit\";\r\n    },\r\n  },\r\n  mounted(){\r\n    let data={\r\n      userName:this.userId\r\n    }\r\n    api.getInfo(data,this)\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#mine {\r\n  .ava-box {\r\n    color: #cccccc;\r\n    text-align: center;\r\n    padding: 20px;\r\n    .avatar {\r\n      position: relative;\r\n      img {\r\n        height: 100px;\r\n        width: 100px;\r\n        border-radius: 50%;\r\n        margin-bottom: 16px;\r\n        opacity: 0.7;\r\n      }\r\n      .iconfont {\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-size: 26px;\r\n        color: #ffffff;\r\n      }\r\n      input {\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        width: 50%;\r\n        transform: translate(-50%, -50%);\r\n        opacity: 0;\r\n      }\r\n    }\r\n  }\r\n  .fieldWarp {\r\n    .changable {\r\n      border-top: black 0.5px dotted;\r\n    }\r\n  }\r\n  .change {\r\n    display: block;\r\n    margin: 20px auto;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}