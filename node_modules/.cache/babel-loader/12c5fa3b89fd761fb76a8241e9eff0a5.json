{"remainingRequest":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\api\\friends.js","dependencies":[{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\api\\friends.js","mtime":1602158923958},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1597490029689}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\tyt\\\\Desktop\\\\\\u7F16\\u7A0B\\\\vscode\\\\\\u534E\\u5317\\u4E94\\u7701\\\\goods_project\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport config from '@/config/config.json';\nexport default {\n  //请求所有好友\n  friendsApi: function () {\n    var _friendsApi = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee(data, vm) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              vm.$store.commit(\"changeLayShow\");\n              _context.next = 3;\n              return apiWarp('/findByUserName', data, 'post').then(function (res) {\n                console.log(res); //插入好友数据\n\n                vm.userList = res.data;\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 3:\n              setTimeout(function () {\n                vm.$store.commit(\"changeLayShow\");\n              }, 500);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function friendsApi(_x, _x2) {\n      return _friendsApi.apply(this, arguments);\n    }\n\n    return friendsApi;\n  }(),\n  //添加新好友\n  friendAddApi: function () {\n    var _friendAddApi = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2(data, vm) {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              vm.$store.commit(\"changeLayShow\");\n              _context2.next = 3;\n              return apiWarp('/apply', data, 'post').then(function (res) {\n                console.log(res);\n                var data = res.data;\n\n                if (data.status) {\n                  vm.$notify({\n                    type: 'success',\n                    message: data.msg\n                  });\n                } else {\n                  vm.$notify({\n                    type: 'warning',\n                    message: data.msg\n                  });\n                } //关闭添加好友窗口\n\n\n                vm.addNewFriendData.flag = false;\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 3:\n              this.friendAcceptApi(data, vm);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function friendAddApi(_x3, _x4) {\n      return _friendAddApi.apply(this, arguments);\n    }\n\n    return friendAddApi;\n  }(),\n  //好友邀请接受\n  friendAcceptApi: function () {\n    var _friendAcceptApi = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3(data, vm) {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return apiWarp('/updateFlag', data, 'post').then(function (res) {\n                console.log(res);\n                var data = res.data;\n\n                if (data.status) {\n                  vm.$notify({\n                    type: 'success',\n                    message: data.msg\n                  });\n                } else {\n                  vm.$notify({\n                    type: 'warning',\n                    message: data.msg\n                  });\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 2:\n              setTimeout(function () {\n                vm.$store.commit(\"changeLayShow\");\n              }, 500);\n              vm.fresh();\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function friendAcceptApi(_x5, _x6) {\n      return _friendAcceptApi.apply(this, arguments);\n    }\n\n    return friendAcceptApi;\n  }(),\n  //删除好友\n  friendKillApi: function () {\n    var _friendKillApi = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee4(data, vm) {\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              vm.$store.commit(\"changeLayShow\");\n              _context4.next = 3;\n              return apiWarp('/deleteFriend', data, 'post').then(function (res) {\n                console.log(res);\n                var data = res.data;\n\n                if (data.status) {\n                  vm.$notify({\n                    type: 'success',\n                    message: data.msg\n                  });\n                } else {\n                  vm.$notify({\n                    type: 'warning',\n                    message: data.msg\n                  });\n                }\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 3:\n              setTimeout(function () {\n                vm.$store.commit(\"changeLayShow\");\n              }, 500);\n              vm.fresh();\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function friendKillApi(_x7, _x8) {\n      return _friendKillApi.apply(this, arguments);\n    }\n\n    return friendKillApi;\n  }()\n};\n\nvar apiWarp = function apiWarp(url, data, method) {\n  return new Promise(\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee5(resolve, reject) {\n      var target;\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              target = config.severAddress;\n\n              if (!(method == \"get\")) {\n                _context5.next = 10;\n                break;\n              }\n\n              _context5.t0 = resolve;\n              _context5.next = 6;\n              return axios.get(target + url);\n\n            case 6:\n              _context5.t1 = _context5.sent;\n              (0, _context5.t0)(_context5.t1);\n              _context5.next = 16;\n              break;\n\n            case 10:\n              if (!(method == \"post\")) {\n                _context5.next = 16;\n                break;\n              }\n\n              _context5.t2 = resolve;\n              _context5.next = 14;\n              return axios.post(target + url, data);\n\n            case 14:\n              _context5.t3 = _context5.sent;\n              (0, _context5.t2)(_context5.t3);\n\n            case 16:\n              _context5.next = 21;\n              break;\n\n            case 18:\n              _context5.prev = 18;\n              _context5.t4 = _context5[\"catch\"](0);\n              reject(_context5.t4);\n\n            case 21:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 18]]);\n    }));\n\n    return function (_x9, _x10) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n};",{"version":3,"sources":["C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\api\\friends.js"],"names":["axios","config","friendsApi","data","vm","$store","commit","apiWarp","then","res","console","log","userList","catch","err","setTimeout","friendAddApi","status","$notify","type","message","msg","addNewFriendData","flag","friendAcceptApi","fresh","friendKillApi","url","method","Promise","resolve","reject","target","severAddress","get","post"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport config from '@/config/config.json'\r\n\r\nexport default {\r\n  //请求所有好友\r\n  async friendsApi(data, vm) {\r\n    vm.$store.commit(\"changeLayShow\");\r\n\r\n    await apiWarp('/findByUserName', data, 'post').then((res) => {\r\n      console.log(res);\r\n      //插入好友数据\r\n      vm.userList = res.data\r\n    }).catch(err => {\r\n      console.log(err);\r\n    })\r\n\r\n    setTimeout(() => {\r\n      vm.$store.commit(\"changeLayShow\");\r\n    }, 500);\r\n  },\r\n  //添加新好友\r\n  async friendAddApi(data, vm) {\r\n    vm.$store.commit(\"changeLayShow\");\r\n\r\n    await apiWarp('/apply', data, 'post').then((res) => {\r\n      console.log(res);\r\n      let data = res.data;\r\n      if (data.status) {\r\n        vm.$notify({\r\n          type: 'success',\r\n          message: data.msg\r\n        })\r\n      } else {\r\n        vm.$notify({\r\n          type: 'warning',\r\n          message: data.msg\r\n        })\r\n      }\r\n      //关闭添加好友窗口\r\n      vm.addNewFriendData.flag = false\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    })\r\n\r\n    this.friendAcceptApi(data, vm)\r\n  },\r\n  //好友邀请接受\r\n  async friendAcceptApi(data, vm) {\r\n    await apiWarp('/updateFlag', data, 'post').then((res) => {\r\n      console.log(res);\r\n      let data = res.data\r\n      if (data.status) {\r\n        vm.$notify({\r\n          type: 'success',\r\n          message: data.msg\r\n        })\r\n      } else {\r\n        vm.$notify({\r\n          type: 'warning',\r\n          message: data.msg\r\n        })\r\n      }\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    })\r\n\r\n    setTimeout(() => {\r\n      vm.$store.commit(\"changeLayShow\");\r\n    }, 500);\r\n\r\n    vm.fresh()\r\n  },\r\n  //删除好友\r\n  async friendKillApi(data, vm) {\r\n    vm.$store.commit(\"changeLayShow\");\r\n\r\n    await apiWarp('/deleteFriend', data, 'post').then((res) => {\r\n      console.log(res);\r\n      let data = res.data\r\n      if (data.status) {\r\n        vm.$notify({\r\n          type: 'success',\r\n          message: data.msg\r\n        })\r\n      } else {\r\n        vm.$notify({\r\n          type: 'warning',\r\n          message: data.msg\r\n        })\r\n      }\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    })\r\n\r\n    setTimeout(() => {\r\n      vm.$store.commit(\"changeLayShow\");\r\n    }, 500);\r\n\r\n    vm.fresh()\r\n  }\r\n}\r\n\r\nconst apiWarp = (url, data, method) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      let target = config.severAddress\r\n      if (method == \"get\") {\r\n        resolve(await axios.get(target + url));\r\n      } else if (method == \"post\") {\r\n        resolve(await axios.post(target + url, data));\r\n      }\r\n    } catch (err) {\r\n      reject(err);\r\n    }\r\n  });\r\n};"]}]}