{"remainingRequest":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\components\\Pick\\offerReward.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\components\\Pick\\offerReward.vue","mtime":1601996203548},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1597490029689},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\vue-loader\\lib\\index.js","mtime":1597490040244}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport api from \"@/api/pick.js\";\r\n\r\nexport default {\r\n  name: \"offerReward\",\r\n  data() {\r\n    return {\r\n      checked: true,\r\n      active: 0,\r\n      showAction: false,\r\n      showPicker: false,\r\n      showTime: true,\r\n      columns: [\r\n        // 第一列\r\n        {\r\n          values: [\"极重\", \"重\", \"中\", \"轻\", \"极轻\"],\r\n          defaultIndex: 2,\r\n        },\r\n        // 第二列\r\n        {\r\n          values: [\"极大\", \"大\", \"中\", \"小\", \"极小\"],\r\n          defaultIndex: 1,\r\n        },\r\n      ],\r\n      actions: [\r\n        { name: \"南区快递点\" },\r\n        { name: \"北区快递点\" },\r\n        { name: \"29号楼外卖点\" },\r\n        { name: \"21号楼外卖点\" },\r\n      ],\r\n      data: {\r\n        size: [],\r\n        name: \"\",\r\n        time: \"\",\r\n        timeTmp: \"\",\r\n        money: 0,\r\n        msg: \"\",\r\n        place: \"\",\r\n      },\r\n      userId: sessionStorage.getItem(\"userId\"),\r\n      token: sessionStorage.getItem(\"token\"),\r\n    };\r\n  },\r\n  methods: {\r\n    //检查悬赏\r\n    check() {\r\n      let data = {\r\n        userId: this.userId,\r\n        token: this.token,\r\n      };\r\n      api.checkPick(data, this);\r\n    },\r\n    //物品大小确定\r\n    onConfirm(value) {\r\n      this.data.size = value;\r\n      this.showPicker = false;\r\n    },\r\n    //提交悬赏\r\n    submit() {\r\n      let data = {\r\n        name: this.data.name,\r\n        size: this.data.size,\r\n        money: String(this.data.money),\r\n        msg: this.data.msg,\r\n        time: this.data.time,\r\n        place: this.data.place,\r\n        userId: this.userId,\r\n        token: this.token,\r\n      };\r\n      api.sendPick(data, this);\r\n    },\r\n    //限制时间确定\r\n    timeYes() {\r\n      this.data.time = this.data.timeTmp;\r\n      this.showTime = true;\r\n    },\r\n    //选定地点\r\n    placeSelect(action) {\r\n      this.data.place = action.name;\r\n    },\r\n  },\r\n  computed: {\r\n    showSize() {\r\n      return this.data.size[0] === undefined\r\n        ? \"\"\r\n        : this.data.size[0] + \",\" + this.data.size[1];\r\n    },\r\n  },\r\n};\r\n",{"version":3,"sources":["offerReward.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"offerReward.vue","sourceRoot":"src/components/Pick","sourcesContent":["<template>\r\n  <div id=\"offerReward\">\r\n    <van-cell center title=\"我要悬赏\">\r\n      <template #right-icon>\r\n        <van-switch v-model=\"checked\" size=\"24\" />\r\n      </template>\r\n    </van-cell>\r\n\r\n    <van-steps :active=\"active\">\r\n      <van-step>发出悬赏</van-step>\r\n      <van-step>完善信息</van-step>\r\n      <van-step>等待接单</van-step>\r\n      <van-step>完成交易</van-step>\r\n    </van-steps>\r\n\r\n    <div class=\"first\" v-if=\"active === 0\">\r\n      <van-button @click=\"check\" type=\"primary\">发出悬赏</van-button>\r\n    </div>\r\n\r\n    <div class=\"second\" v-else-if=\"active === 1\">\r\n      <van-field\r\n        label=\"代取地点\"\r\n        v-model=\"data.place\"\r\n        @click=\"showAction = true\"\r\n        placeholder=\"请选择您所悬赏的代取地点\"\r\n      />\r\n      <van-action-sheet\r\n        v-model=\"showAction\"\r\n        :actions=\"actions\"\r\n        cancel-text=\"取消\"\r\n        description=\"请选择您所悬赏的代取地点\"\r\n        close-on-click-action\r\n        @select=\"placeSelect\"\r\n      />\r\n      <van-field\r\n        readonly\r\n        clickable\r\n        label=\"代取物类型\"\r\n        :value=\"showSize\"\r\n        placeholder=\"请选择代取物的重量/大小\"\r\n        @click=\"showPicker = true\"\r\n      />\r\n      <van-popup v-model=\"showPicker\" round position=\"bottom\">\r\n        <van-picker\r\n          show-toolbar\r\n          :columns=\"columns\"\r\n          @cancel=\"showPicker = false\"\r\n          @confirm=\"onConfirm\"\r\n        />\r\n      </van-popup>\r\n      <van-form>\r\n        <van-field\r\n          v-model=\"data.name\"\r\n          name=\"代取物名称\"\r\n          label=\"代取物名称\"\r\n          placeholder=\"请填写您的代取物名称\"\r\n          :rules=\"[{ required: true, message: '代取物名称' }]\"\r\n        />\r\n        <transition name=\"time\">\r\n          <van-field\r\n            v-model=\"data.time\"\r\n            readonly\r\n            name=\"限定时间\"\r\n            label=\"限定时间\"\r\n            v-if=\"showTime\"\r\n            @click=\"showTime = false\"\r\n            placeholder=\"请选择限定时间\"\r\n          />\r\n          <van-datetime-picker\r\n            v-model=\"data.timeTmp\"\r\n            type=\"time\"\r\n            title=\"选择限定时间\"\r\n            :min-hour=\"10\"\r\n            :max-hour=\"20\"\r\n            v-else\r\n            @confirm=\"timeYes\"\r\n            @cancel=\"showTime = true\"\r\n          />\r\n        </transition>\r\n        <van-field name=\"stepper\" label=\"悬赏金额(元)\">\r\n          <template #input>\r\n            <van-stepper v-model=\"data.money\" step=\"0.5\" />\r\n          </template>\r\n        </van-field>\r\n        <van-field\r\n          v-model=\"data.msg\"\r\n          rows=\"2\"\r\n          autosize\r\n          label=\"留言\"\r\n          type=\"textarea\"\r\n          maxlength=\"50\"\r\n          placeholder=\"请输入留言\"\r\n          show-word-limit\r\n        />\r\n      </van-form>\r\n      <div style=\"margin: 16px\" class=\"actions\">\r\n        <van-button type=\"primary\" round @click=\"active--\">上一步</van-button>\r\n        <van-button round type=\"info\" native-type=\"submit\" @click=\"submit\"\r\n          >提交</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"third\" v-else-if=\"active === 2\">\r\n      <van-cell-group>\r\n        <van-cell>已发布的悬赏(等待接单)</van-cell>\r\n        <van-cell title=\"悬赏者\" :value=\"data.userId\"></van-cell>\r\n        <van-cell title=\"地点\" :value=\"data.place\"></van-cell>\r\n        <van-cell title=\"悬赏额\" :value=\"data.money\"></van-cell>\r\n        <van-cell title=\"限制时间\" :value=\"data.time\"></van-cell>\r\n        <van-cell title=\"备注\" :value=\"data.msg\"></van-cell>\r\n      </van-cell-group>\r\n    </div>\r\n    <div class=\"four\" v-else>完成交易</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api/pick.js\";\r\n\r\nexport default {\r\n  name: \"offerReward\",\r\n  data() {\r\n    return {\r\n      checked: true,\r\n      active: 0,\r\n      showAction: false,\r\n      showPicker: false,\r\n      showTime: true,\r\n      columns: [\r\n        // 第一列\r\n        {\r\n          values: [\"极重\", \"重\", \"中\", \"轻\", \"极轻\"],\r\n          defaultIndex: 2,\r\n        },\r\n        // 第二列\r\n        {\r\n          values: [\"极大\", \"大\", \"中\", \"小\", \"极小\"],\r\n          defaultIndex: 1,\r\n        },\r\n      ],\r\n      actions: [\r\n        { name: \"南区快递点\" },\r\n        { name: \"北区快递点\" },\r\n        { name: \"29号楼外卖点\" },\r\n        { name: \"21号楼外卖点\" },\r\n      ],\r\n      data: {\r\n        size: [],\r\n        name: \"\",\r\n        time: \"\",\r\n        timeTmp: \"\",\r\n        money: 0,\r\n        msg: \"\",\r\n        place: \"\",\r\n      },\r\n      userId: sessionStorage.getItem(\"userId\"),\r\n      token: sessionStorage.getItem(\"token\"),\r\n    };\r\n  },\r\n  methods: {\r\n    //检查悬赏\r\n    check() {\r\n      let data = {\r\n        userId: this.userId,\r\n        token: this.token,\r\n      };\r\n      api.checkPick(data, this);\r\n    },\r\n    //物品大小确定\r\n    onConfirm(value) {\r\n      this.data.size = value;\r\n      this.showPicker = false;\r\n    },\r\n    //提交悬赏\r\n    submit() {\r\n      let data = {\r\n        name: this.data.name,\r\n        size: this.data.size,\r\n        money: String(this.data.money),\r\n        msg: this.data.msg,\r\n        time: this.data.time,\r\n        place: this.data.place,\r\n        userId: this.userId,\r\n        token: this.token,\r\n      };\r\n      api.sendPick(data, this);\r\n    },\r\n    //限制时间确定\r\n    timeYes() {\r\n      this.data.time = this.data.timeTmp;\r\n      this.showTime = true;\r\n    },\r\n    //选定地点\r\n    placeSelect(action) {\r\n      this.data.place = action.name;\r\n    },\r\n  },\r\n  computed: {\r\n    showSize() {\r\n      return this.data.size[0] === undefined\r\n        ? \"\"\r\n        : this.data.size[0] + \",\" + this.data.size[1];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#offerReward {\r\n  .first {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-top: 20px;\r\n  }\r\n  .second {\r\n    .actions {\r\n      display: flex;\r\n      justify-content: space-around;\r\n      .van-button {\r\n        flex: 0.4;\r\n      }\r\n    }\r\n  }\r\n  .time-enter-active {\r\n    animation-name: fadeIn;\r\n    animation-duration: 0.5s;\r\n  }\r\n}\r\n</style>\r\n"]}]}