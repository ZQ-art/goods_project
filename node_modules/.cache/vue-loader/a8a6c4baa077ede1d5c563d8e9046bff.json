{"remainingRequest":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\components\\Pick\\payReward.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\src\\components\\Pick\\payReward.vue","mtime":1602228119760},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1597490029689},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597490030034},{"path":"C:\\Users\\tyt\\Desktop\\编程\\vscode\\华北五省\\goods_project\\node_modules\\vue-loader\\lib\\index.js","mtime":1597490040244}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport api from \"@/api/pick.js\";\r\n\r\nexport default {\r\n  name: \"payReward\",\r\n  data() {\r\n    return {\r\n      step: \"0\",\r\n      active: [],\r\n      choose: undefined,\r\n      isLoading: false,\r\n      confirm: false,\r\n      list: [],\r\n      userId: sessionStorage.getItem(\"userId\"),\r\n      acceptList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    let data = {\r\n      userName: this.userId,\r\n    };\r\n    api.requestAll(data, this);\r\n  },\r\n  methods: {\r\n    onRefresh() {\r\n      let data = {\r\n        userName: this.userId,\r\n      };\r\n      setTimeout(() => {\r\n        api.requestAll(data, this);\r\n        this.isLoading = false;\r\n      }, 1000);\r\n    },\r\n    takePick(index) {\r\n      this.choose = index;\r\n      this.confirm = true;\r\n    },\r\n    //确定接下悬赏\r\n    confirmPick() {\r\n      let tmp = this.list[this.choose];\r\n      console.log(tmp);\r\n      let data = {\r\n        name: tmp.name,\r\n        userId: tmp.userId,\r\n        acceptId: this.userId,\r\n        msg: tmp.msg,\r\n        place: tmp.place,\r\n        size: tmp.size,\r\n        weight: tmp.weight,\r\n        time: tmp.time,\r\n        money: tmp.money,\r\n      };\r\n      api.acceptPick(data, this);\r\n    },\r\n    cancelPick() {\r\n      console.log(\"取消！\");\r\n    },\r\n    //查看所有接下的悬赏\r\n    seeAccept() {\r\n      let data = {\r\n        acceptId: this.userId,\r\n      };\r\n      api.requestAccept(data, this);\r\n    },\r\n    complete(){\r\n      console.log('完成接下的悬赏');\r\n    }\r\n  },\r\n};\r\n",{"version":3,"sources":["payReward.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"payReward.vue","sourceRoot":"src/components/Pick","sourcesContent":["<template>\r\n  <div id=\"payReward\">\r\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n      <van-steps :active=\"step\">\r\n        <van-step>寻找悬赏</van-step>\r\n        <van-step>成功接单</van-step>\r\n      </van-steps>\r\n\r\n      <div class=\"first\" v-if=\"step == 0\">\r\n        <van-collapse v-model=\"active\">\r\n          <van-collapse-item\r\n            v-for=\"(item, index) in list\"\r\n            :key=\"index\"\r\n            :title=\"item.name\"\r\n          >\r\n            <van-cell title=\"悬赏者\" :value=\"item.userId\"></van-cell>\r\n            <van-cell title=\"地点\" :value=\"item.place\"></van-cell>\r\n            <van-cell\r\n              title=\"重量和大小\"\r\n              :value=\"item.size + ',' + item.weight\"\r\n            ></van-cell>\r\n            <van-cell title=\"物品名\" :value=\"item.name\"></van-cell>\r\n            <van-cell title=\"悬赏额\" :value=\"item.money\"></van-cell>\r\n            <van-cell title=\"限制时间\" :value=\"item.time\"></van-cell>\r\n            <van-cell title=\"备注\" :value=\"item.msg\"></van-cell>\r\n            <van-button\r\n              round\r\n              @click=\"takePick(index)\"\r\n              style=\"margin: auto; display: block\"\r\n              type=\"info\"\r\n              >接单</van-button\r\n            >\r\n          </van-collapse-item>\r\n        </van-collapse>\r\n        <van-button type=\"primary\" size=\"large\" @click=\"seeAccept\"\r\n          >查看已经接下的悬赏</van-button\r\n        >\r\n      </div>\r\n\r\n      <div class=\"second\" v-else>\r\n        <van-cell center size=\"large\" class=\"header\"\r\n          >成功接单，请尽快完成！</van-cell\r\n        >\r\n        <van-cell-group v-for=\"(item, index) in acceptList\" :key=\"index\">\r\n          <van-cell title=\"悬赏者\" :value=\"item.userId\"></van-cell>\r\n          <van-cell title=\"地点\" :value=\"item.place\"></van-cell>\r\n          <van-cell\r\n            title=\"重量和大小\"\r\n            :value=\"item.size + ',' + item.weight\"\r\n          ></van-cell>\r\n          <van-cell title=\"物品名\" :value=\"item.name\"></van-cell>\r\n          <van-cell title=\"悬赏额\" :value=\"item.money\"></van-cell>\r\n          <van-cell title=\"限制时间\" :value=\"item.time\"></van-cell>\r\n          <van-cell title=\"备注\" :value=\"item.msg\"></van-cell>\r\n          <van-button type=\"info\" @click=\"complete\">完成此悬赏</van-button>\r\n          <van-divider></van-divider>\r\n        </van-cell-group>\r\n      </div>\r\n    </van-pull-refresh>\r\n    <van-dialog\r\n      v-model=\"confirm\"\r\n      title=\"确认窗口\"\r\n      :show-cancel-button=\"true\"\r\n      @confirm=\"confirmPick\"\r\n      @cancel=\"cancelPick\"\r\n    ></van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/api/pick.js\";\r\n\r\nexport default {\r\n  name: \"payReward\",\r\n  data() {\r\n    return {\r\n      step: \"0\",\r\n      active: [],\r\n      choose: undefined,\r\n      isLoading: false,\r\n      confirm: false,\r\n      list: [],\r\n      userId: sessionStorage.getItem(\"userId\"),\r\n      acceptList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    let data = {\r\n      userName: this.userId,\r\n    };\r\n    api.requestAll(data, this);\r\n  },\r\n  methods: {\r\n    onRefresh() {\r\n      let data = {\r\n        userName: this.userId,\r\n      };\r\n      setTimeout(() => {\r\n        api.requestAll(data, this);\r\n        this.isLoading = false;\r\n      }, 1000);\r\n    },\r\n    takePick(index) {\r\n      this.choose = index;\r\n      this.confirm = true;\r\n    },\r\n    //确定接下悬赏\r\n    confirmPick() {\r\n      let tmp = this.list[this.choose];\r\n      console.log(tmp);\r\n      let data = {\r\n        name: tmp.name,\r\n        userId: tmp.userId,\r\n        acceptId: this.userId,\r\n        msg: tmp.msg,\r\n        place: tmp.place,\r\n        size: tmp.size,\r\n        weight: tmp.weight,\r\n        time: tmp.time,\r\n        money: tmp.money,\r\n      };\r\n      api.acceptPick(data, this);\r\n    },\r\n    cancelPick() {\r\n      console.log(\"取消！\");\r\n    },\r\n    //查看所有接下的悬赏\r\n    seeAccept() {\r\n      let data = {\r\n        acceptId: this.userId,\r\n      };\r\n      api.requestAccept(data, this);\r\n    },\r\n    complete(){\r\n      console.log('完成接下的悬赏');\r\n    }\r\n  },\r\n};\r\n</script>"]}]}